#!/usr/bin/env python
import sys
import os

import argparse

# Hack in order to avoid making this a python package
sys.path.append(os.path.dirname(
    os.path.abspath(sys.argv[0])) + os.sep + os.pardir + os.sep + "algolab")

import argparse
from pylab import *


def visualize(data):
    subplots_adjust(left=0.15, bottom=0.25)

    lines = [plot(zip(*p)[0], zip(*p)[1], 'o-')[0] for p in data.values()]
    legend(lines, data.keys())
    for x, y, l in [i for s in data.values() for i in s]:
        annotate(str(l), xy=(x, y), xytext=(x, y + 0.1))

    grid(True)
    title("Data Visualization")

    show()


if __name__ == "__main__":
    from data import npoints

    parser = argparse.ArgumentParser(description="Dataset Visualization")
    parser.add_argument("--datasets", type=int, nargs="+", default=[2, 3, 4, 5],
            dest="datasets", help="zoom levels to generate a RG for")
    args = parser.parse_args()

    visualize({k: v for k, v in npoints.items() if k in args.datasets})
