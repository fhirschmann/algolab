#!/usr/bin/env python

from pylab import *

from rdp import rdp

init = 0.1
#points = [(1,1), (2,2), (3,3), (4,3), (5,3), (6,5), (6,6), (7,9), (8,8)]


points = [(544.0000000000111, 295.0400000000002), (526.6699999999958, 291.68899999999985), (522.3019999999678, 290.8123000000007), (521.4360000000084, 290.54129999999924), (519.5750000000032, 289.7721000000004), (517.8759999999727, 289.1656000000005), (515.6780000000083, 287.94000000000074), (515.3119999999944, 286.14050000000015), (516.7360000000087, 285.05179999999973), (520.4030000000159, 283.60570000000075), (526.2319999999931, 281.3157999999998), (528.8960000000031, 280.26000000000016), (530.374000000009, 279.10140000000007), (532.1010000000115, 274.46570000000037), (532.2869999999824, 272.77549999999985), (533.3149999999875, 271.18970000000076), (534.6540000000033, 270.04220000000066), (538.275999999982, 268.63499999999976), (543.7200000000075, 266.81080000000003), (549.7820000000075, 264.6650000000008), (552.0630000000182, 263.27640000000054), (552.7800000000127, 262.08339999999987), (553.385999999989, 259.38829999999945), (554.9289999999729, 257.72319999999917), (556.8869999999748, 256.9959999999991), (557.7100000000002, 256.6936000000002), (558.5760000000306, 256.42780000000084), (559.3499999999807, 256.2084000000002), (560.0789999999733, 256.0096999999999), (561.0360000000014, 255.7759999999991), (561.9870000000304, 255.56169999999946), (563.2299999999901, 255.30979999999914), (564.4709999999975, 255.08139999999992), (565.8319999999861, 254.85519999999974), (567.1269999999851, 254.65329999999932), (568.0240000000225, 254.51480000000083), (576.2479999999925, 253.38140000000033), (582.8269999999947, 252.50029999999947), (584.6830000000125, 252.26860000000073), (587.8450000000157, 251.88930000000022), (591.0839999999951, 251.52130000000028), (593.3699999999931, 251.2711000000003), (595.6979999999845, 251.02650000000006), (598.1770000000353, 250.78330000000017), (605.9470000000289, 250.05009999999928), (613.5009999999852, 249.34820000000002), (620.2249999999765, 248.73990000000035), (627.3850000000181, 248.1030999999998), (631.4210000000031, 247.75819999999982), (634.4920000000087, 247.49590000000055), (637.6709999999974, 247.24430000000018), (639.2869999999817, 247.14720000000057), (640.361000000027, 247.09600000000086), (642.9479999999899, 247.0023000000001), (645.5299999999653, 246.91510000000073), (648.7589999999699, 246.78590000000077), (652.3080000000192, 246.6445000000004), (654.9760000000049, 246.54999999999916), (655.3459999999944, 246.5319000000008), (659.6179999999663, 246.35849999999948), (660.3450000000066, 246.3306000000003), (665.5829999999696, 246.1296999999991), (668.2940000000315, 246.02359999999913), (669.9559999999849, 245.95500000000038), (671.7230000000285, 245.88609999999989), (673.9720000000204, 245.71770000000015), (676.306000000011, 245.57579999999922), (682.8190000000234, 245.2109), (690.6939999999651, 244.74260000000038), (704.1470000000061, 243.9871999999994), (704.9419999999884, 243.94780000000083), (707.9999999999842, 243.72999999999934)]


points2 = rdp(points, init)

ax = subplot(111)
subplots_adjust(left=0.15, bottom=0.25)

line, = plot(zip(*points)[0], zip(*points)[1], 'ro-')
line2, = plot(zip(*points2)[0], zip(*points2)[1], 'go--')

grid(True)

axslider = axes([0.15, 0.1, 0.65, 0.03])
slider = Slider(axslider, 'Epsilon', 1, 5, valinit=init)


def update(val):
    points2 = rdp(points, slider.val)
    line2.set_xdata(zip(*points2)[0])
    line2.set_ydata(zip(*points2)[1])
    draw()

slider.on_changed(update)


show()
